[{"C:\\Users\\Utente\\WebstormProjects\\InterfacceGrafiche\\esercitazione6\\src\\index.js":"1","C:\\Users\\Utente\\WebstormProjects\\InterfacceGrafiche\\esercitazione6\\src\\App.js":"2","C:\\Users\\Utente\\WebstormProjects\\InterfacceGrafiche\\esercitazione6\\src\\reportWebVitals.js":"3","C:\\Users\\Utente\\WebstormProjects\\InterfacceGrafiche\\esercitazione6\\src\\InteractiveMap.js":"4","C:\\Users\\Utente\\WebstormProjects\\InterfacceGrafiche\\esercitazione6\\src\\Dati.js":"5","C:\\Users\\Utente\\WebstormProjects\\InterfacceGrafiche\\esercitazione6\\src\\Grafico.js":"6"},{"size":500,"mtime":499162500000,"results":"7","hashOfConfig":"8"},{"size":3235,"mtime":1612896061740,"results":"9","hashOfConfig":"8"},{"size":362,"mtime":499162500000,"results":"10","hashOfConfig":"8"},{"size":5244,"mtime":1612896061767,"results":"11","hashOfConfig":"8"},{"size":2179,"mtime":1613043751667,"results":"12","hashOfConfig":"8"},{"size":2494,"mtime":1613043920183,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"1k69cpq",{"filePath":"17","messages":"18","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19","usedDeprecatedRules":"16"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24","usedDeprecatedRules":"16"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"16"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"C:\\Users\\Utente\\WebstormProjects\\InterfacceGrafiche\\esercitazione6\\src\\index.js",[],["31","32"],"C:\\Users\\Utente\\WebstormProjects\\InterfacceGrafiche\\esercitazione6\\src\\App.js",["33"],"import Chart from \"react-google-charts\";\nimport InteractiveMap from \"./InteractiveMap\";\nimport Dati from \"./Dati\";\nimport \"./App.css\";\nimport Grafico from \"./Grafico\";\nimport {useState} from 'react';\n\n//SCRIVERE APP PER VEDERE UN SITO CON UNA MAPPA\n/*ho un mappa mondiale dove vedo distribuzione di casi nel mondo\n  esplorando i singoli paesei con il maouse, vedo i dati\n  i dati vengono dal sito web.\n\n  dobbiamo procurarci i dati: i numeri che servono per il grafico; devo cercare la risposta nel sito inserito\n  perchè all'interno ho url contattabili e alcune ci forniscono questi dati;\n  le info che interessano sono quelle di HISOTICAL che contengono dei dati ocn una serie temporale:\n  - historical/country\n  puoi inerire, provando, il codice IT:\n  in 30 giorni ci dice cosa ha risposto: un obj jSON con una serie di dati:\n  - cases\n  - deth\n  - recoverd\n  per ciascuno ho una data con scritto vari elementi; il valore è il numero di casi crescente di persone a cui è stato\n  diagnosticato covid.\n  i dati me li procuro chiedendo a questa URL le informazioni.\n\n  ora che ho dei numeri come li metto insieme per disegnare il grafo?\n  1) mi metto li e faccio il grafo con sequenza punti uniti da un segmento, potrei disegnare con SVG usando il path,\n     posso usare data per ricavare coordinata x e numerino per coordinata y; fa una line to l -> punto successivo fino al fondo\n     poi aggiungo assi anche e quantità.\n  2) ma i componenti react non li devo inventare tutti, qualcuno ha già creato un componente :\n     scrivo : REACT LINE CHART e vedo cosa ottengo\n     già il primo assomiglia a ciò che mi piace.\n     lo disegna con codice. per usare una cosa così devo importare libreria; nella pagina può esserci scritto\n     la libreria da importare con NPM.\n     il seconod (chart) può dare la possibilità di inserire 3 linee per creare un grafico.\n     quando hai un problema, capisci cosa vuoi fare e cerchi soluzioni da poter usare.\n     mi da un componente:\n     <Chart .....\n        data= [....]\n\n     npm i react-google-charts\n  3) deco reasformare dati, prendo un pezzo di funzione per trasformare struttura dati che arriva dall'API\n     in ciò che vogliamo noi.\n\n  dobbiamo trasformare dati ricevuti in array di 2 elementi\n\n  importiamo nuova libreia\n\n  dovrò usare una stylingfunction che restituisce dettagli dell'SVG\n\n  per far si che il country dipenda dalla mappa, molto più lungo :\n\n*/\n\nfunction App() {\n    const [country, setCountry]= useState(\"IT\")\n    return (\n        <div className=\"App\">\n            <InteractiveMap onClick={setCountry}/>\n            <div style={{textAlign: \"center\"}}><h1>{country}</h1></div>\n\n            <div className=\"flex\">\n                <Dati country={country} attribute=\"todayCases\"/>\n                <Dati country={country} attribute=\"todayDeaths\"/>\n                <Dati country={country} attribute=\"todayRecovered\"/>\n            </div>\n\n            <div className=\"flex\">\n                <div className=\"chart\">\n                    <Grafico country=\"us\" />\n                </div>\n                <div className=\"chart\">\n                    <Grafico country={country}/>\n                </div>\n            </div>\n        </div>\n    );\n}\nexport default App;\n\n\n\n\n\n\n","C:\\Users\\Utente\\WebstormProjects\\InterfacceGrafiche\\esercitazione6\\src\\reportWebVitals.js",[],"C:\\Users\\Utente\\WebstormProjects\\InterfacceGrafiche\\esercitazione6\\src\\InteractiveMap.js",["34"],"import { WorldMap } from \"react-svg-worldmap\"\r\nimport Chart from \"react-google-charts\";\r\nimport \"./App.css\";\r\nimport useAxios from \"axios-hooks\";\r\n//devo trasformare i dati del sito e devo distinguere loading, error o altro.\r\n//DATI + FUNZIONE DI STILE DAL SITO--------------------------------------------------------------------------------------\r\n/*const data =\r\n       [\r\n           { country: \"cn\", value: 1389618778 }, // china\r\n           { country: \"in\", value: 1311559204 }, // india\r\n           { country: \"us\", value: 331883986 },  // united states\r\n           { country: \"id\", value: 264935824 },  // indonesia\r\n           { country: \"pk\", value: 210797836 },  // pakistan\r\n           { country: \"br\", value: 210301591 },  // brazil\r\n           { country: \"ng\", value: 208679114 },  // nigeria\r\n           { country: \"bd\", value: 161062905 },  // bangladesh\r\n           { country: \"ru\", value: 141944641 },  // russia\r\n           { country: \"mx\", value: 127318112 }   // mexico\r\n       ]\r\n  const stylingFunction = (context : any) => {\r\n    const opacityLevel = 0.1 + (1.5 * (context.countryValue - context.minValue) / (context.maxValue - context.minValue))\r\n    return {\r\n        fill: context.country === \"US\" ? \"blue\" : context.color,\r\n        fillOpacity: opacityLevel,\r\n        stroke: \"green\",\r\n        strokeWidth: 1,\r\n        strokeOpacity: 0.2,\r\n        cursor: \"pointer\"\r\n           }\r\n    }\r\n\r\n  la unfxione useaxios è asincrona, se gli chiedi ora di avere i dati, dentro data appena chiamata mette undefined, indfatti dopo li prenderà i dati.\r\n  per questo abbiamo usato loading...\r\n  per questo motivo abbiamo impostato molte condizioni if() per gestire questi casi, data contiene\r\n\r\n  onClickFunction:\r\n  affinchè possa risalire fino a interactivemap deve ricevere onclick*/\r\n\r\n    /*mapping di world map: vogliamo ottenre una scala di colori che aumenti la visibilità delle differenze tra i diversi stati\r\n     per farlo possiamo usare:\r\n     - scala logaritmica\r\n     - oppure elevare al quadrato, cioè chi ne ha pochi diventano sempre più simili allo zero\r\n     const l = (1-val)*50 + 50;\r\n     ho costruito una funzione matematica tale che quando la variabile in ingresso (val) fosse 1 vale 50, quando vale 0, allora vale 100.\r\n     abbiamo trasposto i numeri nell'intervallo (0,1) nell'intervallo (0,50)\r\n     per esempio elevo **0.25 alla radice quarta di x, così da ottenre una scala più grande\r\n     se io elevassi a 0.5 avrei una differenza meno netta, perchè i valori sono più vicini tra loro, mettendo 0.125 viene una differenza più marcata*/\r\n\r\n    /*hsl: funzione js con 3 parametri\r\n              h: 0 rosso, 120 verde, 240 blu\r\n              s: saturazione da 0%grigio a 100% colore vero\r\n              l: 0% nero, 50% luminosissimo, 100% bianco\r\n*/\r\n\r\n\r\nfunction InteractiveMap({onClick}){\r\n    const[{data, loading,error}] = useAxios(\"https://disease.sh/v3/covid-19/countries?yesterday=false&twoDaysAgo=false&sort=cases&allowNull=true\")\r\n    if(loading)\r\n    {\r\n        return(<div>Loading...</div>);\r\n    }\r\n    if(error)\r\n    { //può darsi che il sito muoia o siamo scollegati dalla rete\r\n        return(<div>Errore(?)</div>);\r\n    }\r\n    //fare diventare le date nel formato che ci occorre\r\n\r\n    //filter: teniamo tutti quelli che hanno d.countryInfo.iso2\r\n    const d= data.filter(d => d.countryInfo && d.countryInfo.iso2).map(d => ({country: d.countryInfo.iso2, value: d.cases }))\r\n    console.log(\"dati per InteractiveMap: \", d);\r\n\r\n    //vogliamo ottenere una scala di colori che aumenti la visibilità delle differenze tra i diversi stati\r\n    /* TO-DO: con scala logaritmica oppure elevare in modo da appiattire quelli che ne hanno pochi / se facciamo\r\n              radice quadrata oppure cubica, possiamo esaltare qualcun altro.\r\n              - dare il colore in modalità HSV*/\r\n\r\n    //costruiamo una funzione matematica fatta in modo tale che quando la variabile in ingresso (val) =0 , vale 100; quando val vale 1, vale 50; in mezzo: ha un andamento continuo.\r\n    //con l determiniamo questo andamento continuo. IN GERGO: mappa numerica di trasposizione\r\n    const stylingFunction = (context) => {\r\n        const val = ((context.countryValue - context.minValue) / (context.maxValue - context.minValue))**0.25 // 0.25 radice quarta.... 0.5 =  piu il numero è piccolo piu aumentano le differenze\r\n        const l = (1-val)*50+50 //quando val è 0 l vale 50, quando val è 1 l vale 0\r\n        return {\r\n            /*hsl: h:0 rosso , 120 verde, 240 blu\r\n            *      s: da 0%grigio a 100% colore vero...\r\n            *      l: 0% nero ,50% luminosissimo, 100% bianco */\r\n            fill: `hsl(220,100%, ${l}%)`,\r\n            fillOpacity: 1,\r\n            stroke: \"black\",\r\n            strokeWidth: 1,\r\n            strokeOpacity: 0.2,\r\n            cursor: \"pointer\"\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"flex\">\r\n            <div className=\"Mappa\" >\r\n                <WorldMap color=\"blue\" title=\"Covid-19 Statistics\" value-suffix=\"people\" size=\"xl\" data={d} styleFunction={stylingFunction}\r\n                          onClickFunction={(a,b,country) => onClick(country)}/> \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default InteractiveMap;\r\n","C:\\Users\\Utente\\WebstormProjects\\InterfacceGrafiche\\esercitazione6\\src\\Dati.js",["35","36","37"],"import App from './App'\r\nimport useAxios from \"axios-hooks\";\r\nimport Chart from \"react-google-charts\";\r\nimport \"./App.css\";\r\nimport React from \"react\";\r\n/*per costruire i dati, ossia aggiungere le statistiche, se sulla mappa clicchiamo sull'itali, deve far comparire\r\n  le cose dell'italia.\r\n  quando la mappa è selezionata faccio sapere a i quadratini sotto e li andiamo a prenderci i dati specifici del paese su cui ho fatto click.\r\n  in questi dati dobbiamo passarci un country per sapere di quale posto dobbiamo leggere delle informazioni.\r\n  ci facciamo dare le informazioni presenti sul server :\r\n  mettendo per esempio IT sul sito, puoi copiare la url e sostituire IT con il valore che ti interessa.\r\n  quindi coiperò la url e cambierò IT con {country}\r\n\r\n  DATI ha bisogno di una prop da ricevere da chi usa i dati.\r\n  dobbiamo scegliere i tipi di dati: per il singolo paese per esempio far vedere\r\n  i casi recenti , i today deths ecc..\r\n  ma i 3 blocchi sono diversi.\r\n  potremmo quindi aggiungere una prop in più nella funzione con il nome del dato chd vorremo far vedere\r\n\r\n */\r\n\r\nfunction Dati({country, attribute}){\r\n    //attribute = nome del dato che vogliamo visualizzare\r\n    const[{data, loading,error}] = useAxios(`https://disease.sh/v3/covid-19/countries/${country}?strict=true`)\r\n    if(loading)\r\n    {\r\n        return(<div>Loading...</div>);\r\n    }\r\n    if(error)\r\n    { //può darsi che il sito muoia o siamo scollegati dalla rete\r\n        return(<div>Errore(?)</div>);\r\n    }\r\n    console.log(\"dati prelevati dal SERVER: \", data);\r\n    const d = data[attribute] // non puoi fare: data.attribute, poichè è una variabile!\r\n    return(\r\n        <div className=\"dati\">\r\n            <h1>{d}</h1>\r\n            <h2>{attribute}</h2>\r\n        </div>)\r\n}\r\nexport default Dati;\r\n\r\n\r\n\r\n\r\n\r\n//object destructuring\r\nconst a = [{saluto: \"ciao\", saluto2: \"salve\"}, 3]\r\nlet [{saluto, saluto2}]= a;\r\nconsole.log(saluto, saluto2)\r\n\r\n//nota bene: uso di notazione puntata\r\nconst b = {\"mele\": 2, \"pere\": 4};\r\nlet c = b[\"mele\"]; //ok\r\nlet c2 = \"mele\";\r\nlet c_error = b.c2 //notazione puntata non può essere usata con le variabili\r\nconsole.log(c);\r\nconsole.log(c_error);","C:\\Users\\Utente\\WebstormProjects\\InterfacceGrafiche\\esercitazione6\\src\\Grafico.js",[],["38","39"],{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","severity":1,"message":"45","line":1,"column":8,"nodeType":"46","messageId":"47","endLine":1,"endColumn":13},{"ruleId":"44","severity":1,"message":"45","line":2,"column":8,"nodeType":"46","messageId":"47","endLine":2,"endColumn":13},{"ruleId":"44","severity":1,"message":"48","line":1,"column":8,"nodeType":"46","messageId":"47","endLine":1,"endColumn":11},{"ruleId":"44","severity":1,"message":"45","line":3,"column":8,"nodeType":"46","messageId":"47","endLine":3,"endColumn":13},{"ruleId":"44","severity":1,"message":"49","line":55,"column":5,"nodeType":"46","messageId":"47","endLine":55,"endColumn":7},{"ruleId":"40","replacedBy":"50"},{"ruleId":"42","replacedBy":"51"},"no-native-reassign",["52"],"no-negated-in-lhs",["53"],"no-unused-vars","'Chart' is defined but never used.","Identifier","unusedVar","'App' is defined but never used.","'c2' is assigned a value but never used.",["52"],["53"],"no-global-assign","no-unsafe-negation"]